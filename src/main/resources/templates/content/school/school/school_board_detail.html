<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{fragment/school/school_layout}">

<th:block layout:fragment="content">
<h1 style="text-align: center;">학사안내</h1>
<div th:each="detail : ${detailList}">
	<input type="hidden" id="schInfoCode" name="schInfoCode" th:value="${detail.schInfoCode}">
	<div class="row" style="background-color: #f1f4f7;">
		<div class="col-10">
			 <input style="width: 100%;" name="schInfoTitle" th:value="${detail.schInfoTitle}" readonly="readonly">
		</div>
		<div class="col-2">
			<span th:text="${detail.schInfoNum}"></span>
		</div>
	</div>
	<div class="row">
		<div class="col-2">
			<span>작성자 : </span><span th:text="${detail.schInfoWriter}"></span>
		</div>
		<div class="col-2">
			<span>등록일 : </span><span th:text="${detail.regDate}"></span> 
		</div>
		<div class="col-2">
			<span>조회수 : </span><span th:text="${detail.schInfoReadCnt}"></span>
		</div>
		<div class="col-6">
			<span>기간 : </span><span th:text="${detail.startDate}"></span>~<span th:text="${detail.endDate}"></span>
		</div>
	</div>	
	<div class="row">
		<div class="col">
			<textarea rows="20" cols="100" name="schInfoContent" th:text="${detail.schInfoContent}" readonly="readonly"></textarea>
		</div>
	</div>	
	<div class="row">
		<div class="col-3">이전글</div>
		<div class="col-9">
			<a>

				[[${prenextList[0].nextTitle}]]

			</a>
		</div>
	</div>	
	<div class="row">
		<div class="col-3">다음글</div>
		<div class="col-9">[[${#lists.size(prenextList) - 1}]]</div>
	</div>	
	<!-- 
	<div class="my-3 p-3 bg-white rounded shadow-sm">
		<th:choose>
		<th:if test="${move.nextNum != 9999}">
		
		<button type="button" onclick="location.href='/school/schoolBoardDetail?schInfoCode=${move.nextNum}'"> <span class="glyphicon glyphicon-menu-up" aria-hidden="true"></span>다음글</button>
			<a href="/school/schoolBoardDetail?schInfoCode=${move.nextNum}" style="color: black"> ${move.nextTitle} </a>
		
		
		<th:when test="${move.nextNum == 9999}">
		<button type="button" disabled>다음글이 없습니다</button>
		</th:when>
		</th:choose>
		<br/>
		<th:choose>
		<th:when test="${move.prevNum != 9999}">
		<button type="button" onclick="location.href='/school/schoolBoardDetail?schInfoCode=${move.prevNum}'"> <span class="glyphicon glyphicon-menu-down" aria-hidden="true"></span>이전글</button>
		<a href="/school/schoolBoardDetail?schInfoCode=${move.prevNum}" style="color: black"> ${move.prevTitle} </a>
		</th:when>
		
		<th:when test="${move.prevNum == 9999}">
		<button type="button" disabled>이전글이 없습니다</button>
		</th:when>
		</th:choose>
	
	</div> -->

	<div class="row">
		<div class="col">
			<input type="button" class="btn btn-primary" value="목록으로 가기" th:onclick="|location.href='@{/school/info}';|">
			<div sec:authorize="isAuthenticated()">
				<div th:if="${detail.schInfoWriter == #authentication.name or #authorization.expression('hasRole(''ROLE_stf'')')}">
					<input type="button" class="btn btn-primary" value="수정" th:onclick="|location.href='@{/school/schoolBoardUpdateForm(schInfoCode=${detail.schInfoCode})}'|">
					<input type="button" class="btn btn-danger" value="삭제" th:onclick="deleteInfo([[${detail.schInfoCode}]]);">
				</div>								
			</div>	
		</div>
	</div>	
</div>	

</th:block>

<!-- 연결해야 할 외부 js파일 -->
<th:block layout:fragment="content_js">
	<script type="text/javascript" src="/js/content/school/school.js"></script>
</th:block>

</html>



