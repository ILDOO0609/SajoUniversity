<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{fragment/school/school_layout}">

<th:block layout:fragment="content">
<h1 style="text-align: center;">학사안내</h1>
<div th:each="detail : ${detailList}">
	<div class="row" style="background-color: #f1f4f7;">
		<div class="col-10">
			[[${detail.schInfoTitle}]]
		</div>
		<div class="col-2">
			NO.21313
		</div>
	</div>
	<div class="row">
		<div class="col-2">
			<span>작성자 : </span>[[${detail.schInfoWriter}]]
		</div>
		<div class="col-2">
			<span>등록일 : </span>[[${detail.regDate}]]
		</div>
		<div class="col-2">
			<span>조회수 : </span>[[${detail.schInfoReadCnt}]]
		</div>
		<div class="col-6">
			<span>기간 : </span>[[${detail.startDate}]] ~ [[${detail.endDate}]]
		</div>
	</div>	
	<div class="row">
		<div class="col">
			[[${detail.schInfoContent}]]
		</div>
	</div>	
	<div class="row">
		<div class="col-3">이전글</div>
		<div class="col-9">
			<a>
				[[${prenextList[0].nextTitle}]]
			</a>
		</div>
	</div>	
	<div class="row">
		<div class="col-3">다음글</div>
		<div class="col-9">[[${#lists.size(prenextList) - 1}]]</div>
	</div>	

	<div class="row">
		<div class="col">
			<input type="button" value="목록으로 가기" th:onclick="|location.href='@{/school/info}';|">
			<div sec:authorize="isAuthenticated()">
				<div th:if="${detail.schInfoWriter == #authentication.name or #authorization.expression('hasRole(''ROLE_stf'')')}">
					<input type="button" value="수정" th:onclick="|location.href='@{/school/schoolBoardUpdateForm(schInfoCode=${detail.schInfoCode})}'|">
					<input type="button" value="삭제" th:onclick="|location.href='@{/school/deleteSchoolInfo(schInfoCode=${detail.schInfoCode})}'|"><br>
				</div>								
			</div>	
		</div>
	</div>	
</div>	

</th:block>

<!-- 연결해야 할 외부 js파일 -->
<th:block layout:fragment="content_js">
	<script type="text/javascript" src="/js/content/school/school.js"></script>
</th:block>

</html>



