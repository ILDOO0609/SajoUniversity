<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{fragment/school/school_layout}">

<th:block layout:fragment="content">

<h2>학생조회</h2>
<div class="row">
	<div class="col">
		<div class="row">
			<div class="col" style="padding-right: 0px;">
				<table class="table table-hover" id="stuTable">
					<colgroup>
						<col width="15%">					
						<col width="20%">					
						<col width="15%">					
						<col width="20%">					
						<col width="10%">					
						<col width="20%">					
					</colgroup>
					<thead>
						<tr style="text-align: left; font-weight: bold;">
							<td colspan="6">
								학생 정보
							</td>
						</tr> 

						<tr>
							<td>단과대학</td>
							<td>
								<select class="form-select" name="collNo" onchange="changeColl(this);">
									<option th:each="coll : ${colleageList}" th:value="${coll.collNo}">[[${coll.collName}]]</option>
								</select>
							</td>
							<td>전공학과</td>							
							<td id="deptDiv">
								<select class="form-select" name="deptNo">
									<option th:each="dept : ${deptList}" th:value="${dept.deptNo}" th:if="${colleageList[0].collNo==dept.collNo}">
										[[${dept.deptName}]]
									</option>
								</select>
							</td>
							<td>학생명</td>							
							<td><input type="text" class="form-control" id="searchStuInput" name="searchValue" placeholder="학생명 입력"></td>							
						</tr>
						
						<tr>
							<td>재적상태</td>
							<td>
								<select class="form-select" name="searchKeyword">
									<option>전체</option>
									<option>재학</option>
									<option>휴학</option>
								</select>
							</td>
							<td>학년</td>							
							<td>
								<select class="form-select" name="searchKeyword">
									<option>전체</option>
									<option>1학년</option>
									<option>2학년</option>
									<option>3학년</option>
									<option>4학년</option>
								</select>
							</td>
							<td colspan="2" style="text-align: right;">
								<input type="button" class="btn btn-primary" value="Search" onclick="searchStuList();">
							</td>							
						</tr>
						
						<tr style="text-align: left; font-weight: bold;">
							<td colspan="6">
								학생 전체 조회 및 검색 결과
							</td>
						</tr>
						<tr>
							<td>학번</td>
							<td>단과대학</td>
							<td>학생명</td>
							<td>전공학과</td>
							<td>학년</td>
							<td>재적상태</td>
						</tr>	
					</thead>
					
					<tbody>
						<tr th:each="stu : ${stuList}">
							<td>[[${stu.memNo}]]</td>
							<td>[[${stu.colleageVO.collName}]]</td>
							<td>[[${stu.memberVO.memName}]]</td>
							<td>[[${stu.deptVO.deptName}]]</td>
							<td>[[${stu.stuYear}]]</td>
							<td>[[${stu.stuStatus}]]</td>
						</tr>	
					</tbody>	
				</table>
			</div>
		</div>
	</div>	
</div>
</th:block>

<!-- 연결해야 할 외부 js파일 -->
<th:block layout:fragment="content_js">
	<script type="text/javascript" src="/js/content/school/check.js"></script>
</th:block>

</html>